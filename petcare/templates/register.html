<!-- petcare/templates/register.html -->
{% extends "base.html" %}
{% block title %}Create Account{% endblock %}

{% block content %}
<div class="container">
  <div class="form-container">
    <form method="POST">
      {{ form.hidden_tag() }}
      <div class="text-center mb-4">
        <img src="{{ url_for('static', filename='images/PetCare.jpg') }}" class="shadow-sm mx-auto d-block" alt="Logo" style="width: 100px; height: 100px; border-radius: 50%;">
        <h1 class="mt-3">Create Your Account</h1>
      </div>

      <div class="d-grid gap-2 mb-3">
          <a href="{{ url_for('google_login') }}" class="btn btn-danger">
              <i class="fab fa-google me-2"></i> Sign up with Google
          </a>
      </div>
      <div class="text-center my-3 text-muted">OR</div>

      <div class="row">
        <div class="col-md-6 mb-3">
          {{ form.username.label(class="form-label") }}
          {{ form.username(class="form-control form-control-lg" + (" is-invalid" if form.username.errors else "")) }}
          {% if form.username.errors %}<div class="invalid-feedback d-block">{% for e in form.username.errors %}<span>{{e}}</span>{% endfor %}</div>{% endif %}
        </div>
        <div class="col-md-6 mb-3">
          {{ form.email.label(class="form-label") }}
          {{ form.email(class="form-control form-control-lg" + (" is-invalid" if form.email.errors else "")) }}
          {% if form.email.errors %}<div class="invalid-feedback d-block">{% for e in form.email.errors %}<span>{{e}}</span>{% endfor %}</div>{% endif %}
        </div>
      </div>

      <hr class="my-3">

      <div class="mb-3">
          {{ form.phone.label(class="form-label") }}
          <div class="input-group">
              {{ form.country_code(class="form-select" + (" is-invalid" if form.country_code.errors else ""), style="max-width: 150px;") }}
              {{ form.phone(class="form-control form-control-lg" + (" is-invalid" if form.phone.errors else "")) }}
          </div>
          {% if form.phone.errors %}<div class="invalid-feedback d-block">{% for e in form.phone.errors %}<span>{{e}}</span>{% endfor %}</div>{% endif %}
      </div>

      <div class="mb-3">
          {{ form.address.label(class="form-label") }}
          {{ form.address(class="form-control form-control-lg" + (" is-invalid" if form.address.errors else ""), rows=3) }}
          {% if form.address.errors %}<div class="invalid-feedback d-block">{% for e in form.address.errors %}<span>{{e}}</span>{% endfor %}</div>{% endif %}
      </div>

      <hr class="my-3">

      <div class="row">
        <div class="col-md-6 mb-3">
          {{ form.password.label(class="form-label") }}
          {{ form.password(class="form-control form-control-lg" + (" is-invalid" if form.password.errors else "")) }}
          {% if form.password.errors %}<div class="invalid-feedback d-block">{% for e in form.password.errors %}<span>{{e}}</span>{% endfor %}</div>{% endif %}
        </div>
        <div class="col-md-6 mb-3">
          {{ form.confirm_password.label(class="form-label") }}
          {{ form.confirm_password(class="form-control form-control-lg" + (" is-invalid" if form.confirm_password.errors else "")) }}
          {% if form.confirm_password.errors %}<div class="invalid-feedback d-block">{% for e in form.confirm_password.errors %}<span>{{e}}</span>{% endfor %}</div>{% endif %}
        </div>
      </div>

      <div class="d-grid gap-2 mt-4">
        {{ form.submit(class="btn btn-primary btn-lg") }}
        <a href="{{ url_for('login_page') }}" class="btn btn-secondary">Already have an account? Sign In</a>
      </div>
    </form>
  </div>
</div>
{% endblock %}